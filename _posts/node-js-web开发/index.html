<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Node.js Web开发 | Glow's Blog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Node.js Web开发"><meta property="og:description" content="概览 Node.js Express mongoDB jQuery Semantic UI Visual Code Google 功能需求 首页文章显示 注册登录功能 文章编辑发表 评论 文章删除 一、 创建项目，执行如下代码：
npm init 1、新建 index.js 作为项目入口文件， 使用MVC架构。
引入框架和组件，添加中间件（如connect-flash、） 设置模板目录设置模板引擎为 ejs
2、创建路由文件夹 &ldquo;routes&rdquo; 和文件 &ldquo;/routes/index.js&rdquo;, 核心代码编辑如下：
module.exports = function (app) { app.get('/', (req, res) => { res.send(&#34;hello, express&#34;); }) app.use('/posts', require('./posts')); // routes文件夹下 模块路由 app.use(function(req, res){ if(!res.headerSent){ res.render('404'); } }); }; 模块路由代码示例：
// GET /posts 所有用户或者特定用户的文章页 // eg: GET /posts?author=xxx router.get('/', function(req, res, next) { // res."><meta property="og:type" content="article"><meta property="og:url" content="https://glows.github.io/_posts/node-js-web%E5%BC%80%E5%8F%91/"><meta property="article:section" content="_posts"><meta property="article:published_time" content="2017-12-25T16:58:28+00:00"><meta property="article:modified_time" content="2017-12-25T16:58:28+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Node.js Web开发"><meta name=twitter:description content="概览 Node.js Express mongoDB jQuery Semantic UI Visual Code Google 功能需求 首页文章显示 注册登录功能 文章编辑发表 评论 文章删除 一、 创建项目，执行如下代码：
npm init 1、新建 index.js 作为项目入口文件， 使用MVC架构。
引入框架和组件，添加中间件（如connect-flash、） 设置模板目录设置模板引擎为 ejs
2、创建路由文件夹 &ldquo;routes&rdquo; 和文件 &ldquo;/routes/index.js&rdquo;, 核心代码编辑如下：
module.exports = function (app) { app.get('/', (req, res) => { res.send(&#34;hello, express&#34;); }) app.use('/posts', require('./posts')); // routes文件夹下 模块路由 app.use(function(req, res){ if(!res.headerSent){ res.render('404'); } }); }; 模块路由代码示例：
// GET /posts 所有用户或者特定用户的文章页 // eg: GET /posts?author=xxx router.get('/', function(req, res, next) { // res."><link rel=stylesheet href=https://glows.github.io/css/style-white.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://glows.github.io/images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><header id=header><a href=https://glows.github.io><div id=logo style=background-image:url(https://glows.github.io/images/logo.png)></div><div id=title><h1>Glow's Blog</h1></div></a><div id=nav><ul><li class=icon><a href=#><i class="fas fa-bars fa-2x"></i></a></li><li><a href=/>Home</a></li><li><a href=/_posts/>Writings</a></li><li><a href=/tags/>Tags</a></li><li><a href=/about>About</a></li></ul></div></header><article class=post itemscope itemtype=http://schema.org/BlogPosting><div class=content itemprop=articleBody><h2 id=概览>概览</h2><ul><li>Node.js</li><li>Express</li><li>mongoDB</li><li>jQuery</li><li><a href=https://semantic-ui.com/>Semantic UI</a></li><li>Visual Code</li><li><a href=https://www.google.com/ncr title=Google>Google</a></li></ul><h2 id=功能需求>功能需求</h2><ul><li>首页文章显示</li><li>注册登录功能</li><li>文章编辑发表</li><li>评论</li><li>文章删除</li></ul><h2 id=一>一、</h2><p>创建项目，执行如下代码：</p><pre tabindex=0><code>npm init
</code></pre><p>1、新建 index.js 作为项目入口文件， 使用MVC架构。<br>引入框架和组件，添加中间件（如connect-flash、） 设置模板目录设置模板引擎为 ejs<br>2、创建路由文件夹 &ldquo;routes&rdquo; 和文件 &ldquo;/routes/index.js&rdquo;, 核心代码编辑如下：</p><pre tabindex=0><code>module.exports = function (app) {
   app.get(&#39;/&#39;, (req, res) =&gt; {
    res.send(&#34;hello, express&#34;);
})
    app.use(&#39;/posts&#39;, require(&#39;./posts&#39;)); // routes文件夹下 模块路由
    app.use(function(req, res){
    if(!res.headerSent){
      res.render(&#39;404&#39;);
    }
  });
  };
</code></pre><p>模块路由代码示例：</p><pre tabindex=0><code>// GET /posts 所有用户或者特定用户的文章页
//   eg: GET /posts?author=xxx
router.get(&#39;/&#39;, function(req, res, next) {
  // res.send(&#34;Hello world&#34; );
  var author = req.query.author

  PostModel.getPosts(author)
    .then(function (posts){
      res.render(&#39;posts&#39;, {
        posts: posts
      });
    })
    .catch(next);
});
</code></pre><p>3、使用mongolass组件连接数据库,实现增删改查</p><pre tabindex=0><code>mongolass.connect(config.mongodb) // 连 接 数 据 库 
</code></pre><p>示例代码：</p><pre tabindex=0><code>exports.User = mongolass.model(&#39;User&#39;, {
  name: { type: &#39;string&#39; },
  password: { type: &#39;string&#39; },
  avatar: { type: &#39;string&#39; },
  gender: { type: &#39;string&#39;, enum: [&#39;m&#39;, &#39;f&#39;, &#39;x&#39;] },
  bio: { type: &#39;string&#39; }
})
</code></pre></div></article><footer id=footer><div class=footer-left>Copyright &copy; 2022 glows</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/_posts/>Writings</a></li><li><a href=/tags/>Tags</a></li><li><a href=/about>About</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script></html>